{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Metadata": {
    "AWS::CloudFormation::Designer": {
      "8cf1cb55-3809-4b7f-99e7-f72e1fb9eddf": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 380,
          "y": 110
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "374ee003-a34c-4cbb-88cd-d2ce891527cc"
        ]
      },
      "374ee003-a34c-4cbb-88cd-d2ce891527cc": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 500,
          "y": 110
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "184f9cc3-893a-41b9-9e9f-b070ae8ba993",
          "c2e1fa9a-e4c5-4a8f-a7ad-81f33cad2136"
        ]
      },
      "184f9cc3-893a-41b9-9e9f-b070ae8ba993": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 500,
          "y": 220
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "b437ac0c-ecf7-4126-9cf4-bea0e98eaed7",
          "edf50a70-4ed6-4b80-b2da-6fd08c477e4e"
        ]
      },
      "edf50a70-4ed6-4b80-b2da-6fd08c477e4e": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 640,
          "y": 80
        },
        "z": 0,
        "embeds": []
      },
      "b437ac0c-ecf7-4126-9cf4-bea0e98eaed7": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 640,
          "y": 180
        },
        "z": 0,
        "embeds": []
      },
      "48b5fcf0-d81c-40e5-b4ec-7582136af4be": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 200,
          "y": 20
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "cafdb383-c3ce-4847-88cd-075b609709ca"
        ]
      },
      "cafdb383-c3ce-4847-88cd-075b609709ca": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 300,
          "y": 20
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "9bcaa975-8998-44bf-81df-5977d810c048"
        ]
      },
      "3009b25e-be1e-4f48-a369-a849e7e19812": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 300,
          "y": 220
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "c0aae85c-3607-4cea-9f59-5e96b9a0983a"
        ]
      },
      "9d99a1fd-1c11-4636-9c50-3062e2a241d0": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 200,
          "y": 220
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "3009b25e-be1e-4f48-a369-a849e7e19812"
        ]
      },
      "c0aae85c-3607-4cea-9f59-5e96b9a0983a": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 400,
          "y": 220
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "374ee003-a34c-4cbb-88cd-d2ce891527cc"
        ]
      },
      "9bcaa975-8998-44bf-81df-5977d810c048": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 400,
          "y": 20
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "c2e1fa9a-e4c5-4a8f-a7ad-81f33cad2136"
        ]
      },
      "c2e1fa9a-e4c5-4a8f-a7ad-81f33cad2136": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 500,
          "y": 20
        },
        "z": 0,
        "embeds": [],
        "dependson": [
          "edf50a70-4ed6-4b80-b2da-6fd08c477e4e",
          "b437ac0c-ecf7-4126-9cf4-bea0e98eaed7"
        ]
      },
      "cb2059ac-ef21-412f-98f4-74daaf2d4e41": {
        "source": {
          "id": "48b5fcf0-d81c-40e5-b4ec-7582136af4be"
        },
        "target": {
          "id": "cafdb383-c3ce-4847-88cd-075b609709ca"
        },
        "z": 1
      },
      "81205859-549f-4201-8095-8bc5e17a9375": {
        "source": {
          "id": "cafdb383-c3ce-4847-88cd-075b609709ca"
        },
        "target": {
          "id": "9bcaa975-8998-44bf-81df-5977d810c048"
        },
        "z": 2
      },
      "6921d923-632a-4add-b437-ddb201c2ff0e": {
        "source": {
          "id": "9bcaa975-8998-44bf-81df-5977d810c048"
        },
        "target": {
          "id": "c2e1fa9a-e4c5-4a8f-a7ad-81f33cad2136"
        },
        "z": 3
      },
      "4ba55062-1b86-4f3b-9da4-d920d77b2508": {
        "source": {
          "id": "c2e1fa9a-e4c5-4a8f-a7ad-81f33cad2136"
        },
        "target": {
          "id": "edf50a70-4ed6-4b80-b2da-6fd08c477e4e"
        },
        "z": 4
      },
      "04663d8d-8cf5-46b3-84c7-284b1d701eee": {
        "source": {
          "id": "c2e1fa9a-e4c5-4a8f-a7ad-81f33cad2136"
        },
        "target": {
          "id": "b437ac0c-ecf7-4126-9cf4-bea0e98eaed7"
        },
        "z": 5
      },
      "ac7f1132-6e07-46d6-b7ec-7ca52e037cda": {
        "source": {
          "id": "184f9cc3-893a-41b9-9e9f-b070ae8ba993"
        },
        "target": {
          "id": "b437ac0c-ecf7-4126-9cf4-bea0e98eaed7"
        },
        "z": 6
      },
      "d831b557-1bc8-4f8c-b4ba-94dd45d2f0d8": {
        "source": {
          "id": "184f9cc3-893a-41b9-9e9f-b070ae8ba993"
        },
        "target": {
          "id": "edf50a70-4ed6-4b80-b2da-6fd08c477e4e"
        },
        "z": 7
      },
      "74d21311-60c5-4de1-baef-8472fe2adb85": {
        "source": {
          "id": "9d99a1fd-1c11-4636-9c50-3062e2a241d0"
        },
        "target": {
          "id": "3009b25e-be1e-4f48-a369-a849e7e19812"
        },
        "z": 8
      },
      "580279bc-b1d8-48c4-b6fb-6ac50ae1c2fd": {
        "source": {
          "id": "3009b25e-be1e-4f48-a369-a849e7e19812"
        },
        "target": {
          "id": "c0aae85c-3607-4cea-9f59-5e96b9a0983a"
        },
        "z": 9
      },
      "169c5940-9c3e-439f-b8dc-c9191d102cb6": {
        "source": {
          "id": "c0aae85c-3607-4cea-9f59-5e96b9a0983a"
        },
        "target": {
          "id": "374ee003-a34c-4cbb-88cd-d2ce891527cc"
        },
        "z": 10
      },
      "75742e55-7fc1-4155-bf3b-a3067955813b": {
        "source": {
          "id": "374ee003-a34c-4cbb-88cd-d2ce891527cc"
        },
        "target": {
          "id": "184f9cc3-893a-41b9-9e9f-b070ae8ba993"
        },
        "z": 11
      },
      "c0ef59e7-5424-4f7f-be85-f07d2063e65c": {
        "source": {
          "id": "374ee003-a34c-4cbb-88cd-d2ce891527cc"
        },
        "target": {
          "id": "c2e1fa9a-e4c5-4a8f-a7ad-81f33cad2136"
        },
        "z": 12
      },
      "e3a2fef1-523a-4632-8cd8-1bf627a6636b": {
        "source": {
          "id": "374ee003-a34c-4cbb-88cd-d2ce891527cc",
          "selector": "g:nth-child(1) g:nth-child(4) g:nth-child(4) circle:nth-child(1)     ",
          "port": "AWS::DependencyLink-*"
        },
        "target": {
          "id": "c2e1fa9a-e4c5-4a8f-a7ad-81f33cad2136"
        },
        "z": 14
      },
      "c49c56fd-e68a-4626-908f-299cb41b2296": {
        "source": {
          "id": "8cf1cb55-3809-4b7f-99e7-f72e1fb9eddf"
        },
        "target": {
          "id": "374ee003-a34c-4cbb-88cd-d2ce891527cc"
        },
        "z": 13
      }
    }
  },
  "Resources": {
    "DNSRecordSet": {
      "Type": "AWS::Route53::RecordSet",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "8cf1cb55-3809-4b7f-99e7-f72e1fb9eddf"
        }
      },
      "DependsOn": [
        "ProdLoadBalancer"
      ]
    },
    "ProdLoadBalancer": {
      "Type": "AWS::ElasticLoadBalancing::LoadBalancer",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "374ee003-a34c-4cbb-88cd-d2ce891527cc"
        }
      },
      "DependsOn": [
        "ProdAppServerScalingGroup",
        "DevAppServer"
      ]
    },
    "StaticBucket": {
      "Type": "AWS::S3::Bucket",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "edf50a70-4ed6-4b80-b2da-6fd08c477e4e"
        }
      }
    },
    "PostgreSQLDB": {
      "Type": "AWS::RDS::DBInstance",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "b437ac0c-ecf7-4126-9cf4-bea0e98eaed7"
        }
      }
    },
    "ProdAppServerScalingGroup": {
      "Type": "AWS::AutoScaling::AutoScalingGroup",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "184f9cc3-893a-41b9-9e9f-b070ae8ba993"
        }
      },
      "DependsOn": [
        "PostgreSQLDB",
        "StaticBucket"
      ]
    },
    "DevCodeBuild": {
      "Type": "AWS::CodeBuild::Project",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "cafdb383-c3ce-4847-88cd-075b609709ca"
        }
      },
      "DependsOn": [
        "DevCodeDeploy"
      ]
    },
    "ProdCodeBuild": {
      "Type": "AWS::CodeBuild::Project",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "3009b25e-be1e-4f48-a369-a849e7e19812"
        }
      },
      "DependsOn": [
        "ProdCodeDeploy"
      ]
    },
    "DevCodePipeline": {
      "Type": "AWS::CodePipeline::Pipeline",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "48b5fcf0-d81c-40e5-b4ec-7582136af4be"
        }
      },
      "DependsOn": [
        "DevCodeBuild"
      ]
    },
    "ProdCodepipeline": {
      "Type": "AWS::CodePipeline::Pipeline",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "9d99a1fd-1c11-4636-9c50-3062e2a241d0"
        }
      },
      "DependsOn": [
        "ProdCodeBuild"
      ]
    },
    "ProdCodeDeploy": {
      "Type": "AWS::CodeDeploy::Application",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "c0aae85c-3607-4cea-9f59-5e96b9a0983a"
        }
      },
      "DependsOn": [
        "ProdLoadBalancer"
      ]
    },
    "DevCodeDeploy": {
      "Type": "AWS::CodeDeploy::Application",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "9bcaa975-8998-44bf-81df-5977d810c048"
        }
      },
      "DependsOn": [
        "DevAppServer"
      ]
    },
    "DevAppServer": {
      "Type": "AWS::EC2::Instance",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "c2e1fa9a-e4c5-4a8f-a7ad-81f33cad2136"
        }
      },
      "DependsOn": [
        "StaticBucket",
        "PostgreSQLDB"
      ]
    }
  }
}
